@using System.ComponentModel.Design
@using Microsoft.AspNetCore.Routing
@model Data.ViewModels.FoodMenuViewModel


<div>

    @{
        if (Model.CurrentTakeoutOrder.FoodOrderItemList == null || Model.CurrentTakeoutOrder.FoodOrderItemList.Count < 1)
        {
            <h3 style="text-align: center; color:darkred">No items in your order</h3>
            return;
        }
        <div>

            <div style="display: inline-block; float: left">
                <h3 style="text-align: center;color:darkred;">Your Order</h3>
                <table class="order-item-table">
                
                    <tr>
                   <th scope="col">Quantity</th>
                    <th scope="col">Item</th>
                    <th scope="col">Price</th>
                    </tr>

                    @foreach (var orderItem in Model.CurrentTakeoutOrder.FoodOrderItemList)
                    { 
                        <tr style="border-bottom: 1px solid lightgray; padding: 2px;"> 
                            <td style="font-size:20px" >
                                <a asp-controller="Cart" asp-action="DecreaseQuantity" asp-route-itemId="@orderItem.OrderItemId"><i class="fas fa-minus" style="font-size: 11px; margin-right: 5px;"></i></a>
                                @orderItem.quantity  <a asp-controller="Cart" asp-action="IncreaseQuantity" asp-route-itemId="@orderItem.OrderItemId"><i class="fas fa-plus" style="font-size: 11px; margin-left:5px;"></i></a>
                            </td>
                            <td class="order-item">@orderItem.dishName </td>
                            <td class="order-item" style="text-align: right">$ @orderItem.price</td>
                            <td><a asp-area="" asp-controller="Cart" asp-action="DeleteFromCart" asp-route-itemIdToDelete="@orderItem.OrderItemId"><i class="fas fa-trash" style="font-size: 12px"></i></a></td>
                        </tr>
                        
                    }

                    <tr>
                    <td /><td />
                    <td>Sub Total</td>

                    <td style="font-weight: bolder"> @Model.CurrentTakeoutOrder.OrderSubTotalCost.ToString("C")</td>

                    </tr>
                </table>

            <div style="display: inline-block; float: right; margin: 50px;"><br>
                @if (Model.CurrentTakeoutOrder.FoodOrderItemList != null && Model.CurrentTakeoutOrder.FoodOrderItemList.Count > 0)
                {
                    <a asp-controller="Cart" asp-action="CheckOut" class="btn btn-primary submit-order-button">Go To Checkout</a>
                }
            </div>
            </div>
        </div>
    }

</div>

